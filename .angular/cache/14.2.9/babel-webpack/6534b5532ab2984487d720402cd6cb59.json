{"ast":null,"code":"import { __awaiter } from \"tslib\";\n/* eslint-disable max-len */\n\nimport { SimpleChanges } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../calendarCreator.service\";\nimport * as i2 from \"../../../journal-creator.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\n\nfunction CalendarListComponent_div_4_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const k_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" #\", k_r4, \" \\u00A0 \");\n  }\n}\n\nfunction CalendarListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4, 5);\n    i0.ɵɵlistener(\"click\", function CalendarListComponent_div_4_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const day_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onCardClick(day_r1));\n    });\n    i0.ɵɵelementStart(2, \"ion-card\", 6)(3, \"ion-card-header\", 7)(4, \"p\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"ion-card-content\", 9)(7, \"ion-grid\")(8, \"ion-row\", 10)(9, \"ion-col\", 11)(10, \"ion-row\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"ion-col\", 12);\n    i0.ɵɵelement(13, \"div\", 13);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(14, \"ion-card-subtitle\", 14)(15, \"ion-row\", 15);\n    i0.ɵɵtemplate(16, CalendarListComponent_div_4_span_16_Template, 2, 1, \"span\", 16);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const day_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"id\", \"date\" + day_r1.dayNumber);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", day_r1.year + \". \" + (\"0\" + (1 + day_r1.monthIndex)).slice(-2) + \". \" + (\"0\" + day_r1.dayNumber).slice(-2), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", day_r1.summary, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(day_r1.feelingsClass);\n    i0.ɵɵstyleProp(\"background-image\", day_r1.src);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", day_r1.keywords);\n  }\n}\n\nexport let CalendarListComponent = /*#__PURE__*/(() => {\n  class CalendarListComponent {\n    constructor(calendarCreator, journalCreator, actionSheetCtrl) {\n      this.calendarCreator = calendarCreator;\n      this.journalCreator = journalCreator;\n      this.actionSheetCtrl = actionSheetCtrl;\n      this.isShare = false;\n    }\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {\n      //   this.monthData = [\n      //     {\n      //         date: new Date('2022-11-28T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 10,\n      //         weekDayNumber: 1,\n      //         dayNumber: 28,\n      //         feelings: [\n      //             'sad',\n      //             'soso',\n      //             'good'\n      //         ],\n      //         summary: 'sample',\n      //         diary: [],\n      //         keywords: [\n      //             '회의실',\n      //             '예약',\n      //             '콜라비',\n      //             '일정',\n      //             '음성',\n      //             '녹음',\n      //             '모바일',\n      //             'api'\n      //         ]\n      //     },\n      //     {\n      //         date: new Date('2022-11-29T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 10,\n      //         weekDayNumber: 2,\n      //         dayNumber: 29,\n      //         feelings: [\n      //             'happy',\n      //             'soso',\n      //             'good'\n      //         ],\n      //         summary: 'sample',\n      //         diary: [\n      //             {\n      //                 time: 0,\n      //                 sentence: 'diarysample'\n      //             },\n      //             {\n      //                 time: 10,\n      //                 sentence: 'diarysample2'\n      //             },\n      //             {\n      //                 time: 63,\n      //                 sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n      //             }\n      //         ],\n      //         keywords: []\n      //     },\n      //     {\n      //         date: new Date('2022-11-30T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 10,\n      //         weekDayNumber: 3,\n      //         dayNumber: 30,\n      //         feelings: [\n      //             'depressed',\n      //             'none',\n      //             'none'\n      //         ],\n      //         summary: '',\n      //         diary: [\n      //             {\n      //                 time: 0,\n      //                 sentence: 'diarysample'\n      //             },\n      //             {\n      //                 time: 10,\n      //                 sentence: 'diarysample2'\n      //             },\n      //             {\n      //                 time: 63,\n      //                 sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n      //             }\n      //         ],\n      //         keywords: [\n      //             '회의실',\n      //             '예약',\n      //             '콜라비',\n      //             '일정',\n      //             '음성',\n      //             '녹음',\n      //             '모바일',\n      //             'api'\n      //         ]\n      //     },\n      //     {\n      //         date: new Date('2022-12-01T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 11,\n      //         weekDayNumber: 4,\n      //         dayNumber: 1,\n      //         feelings: [\n      //             'upset',\n      //             'none',\n      //             'unpleasant'\n      //         ],\n      //         summary: 'sample',\n      //         diary: [],\n      //         keywords: [\n      //             '회의실',\n      //             '예약',\n      //             '콜라비'\n      //         ]\n      //     },\n      //     {\n      //         date: new Date('2022-12-02T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 11,\n      //         weekDayNumber: 5,\n      //         dayNumber: 2,\n      //         feelings: [\n      //             'none',\n      //             'none',\n      //             'none'\n      //         ],\n      //         summary: 'sample',\n      //         diary: [\n      //             {\n      //                 time: 0,\n      //                 sentence: 'diarysample'\n      //             },\n      //             {\n      //                 time: 10,\n      //                 sentence: 'diarysample2'\n      //             },\n      //             {\n      //                 time: 63,\n      //                 sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n      //             }\n      //         ],\n      //         keywords: []\n      //     },\n      //     {\n      //         date: new Date('2022-12-03T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 11,\n      //         weekDayNumber: 6,\n      //         dayNumber: 3,\n      //         feelings: [\n      //             'none',\n      //             'none',\n      //             'none'\n      //         ],\n      //         summary: '',\n      //         diary: [\n      //             {\n      //                 time: 0,\n      //                 sentence: 'diarysample'\n      //             },\n      //             {\n      //                 time: 10,\n      //                 sentence: 'diarysample2'\n      //             },\n      //             {\n      //                 time: 63,\n      //                 sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n      //             }\n      //         ],\n      //         keywords: [\n      //             '회의실'\n      //         ]\n      //     },\n      //     {\n      //         date: new Date('2022-12-04T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 11,\n      //         weekDayNumber: 0,\n      //         dayNumber: 4,\n      //         feelings: [\n      //             'happy',\n      //             'soso',\n      //             'good'\n      //         ],\n      //         summary: 'sample',\n      //         diary: [\n      //             {\n      //                 time: 0,\n      //                 sentence: 'diarysample'\n      //             },\n      //             {\n      //                 time: 10,\n      //                 sentence: 'diarysample2'\n      //             },\n      //             {\n      //                 time: 63,\n      //                 sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n      //             }\n      //         ],\n      //         keywords: [\n      //             '회의실',\n      //             '예약',\n      //             '콜라비',\n      //             '일정',\n      //             '음성',\n      //             '녹음',\n      //             '모바일',\n      //             'api'\n      //         ]\n      //     },\n      //     {\n      //         date: new Date('2022-12-05T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 11,\n      //         weekDayNumber: 1,\n      //         dayNumber: 5,\n      //         feelings: [\n      //             'happy',\n      //             'none',\n      //             'none'\n      //         ],\n      //         summary: 'sample',\n      //         diary: [\n      //             {\n      //                 time: 0,\n      //                 sentence: 'diarysample'\n      //             },\n      //             {\n      //                 time: 10,\n      //                 sentence: 'diarysample2'\n      //             },\n      //             {\n      //                 time: 63,\n      //                 sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n      //             }\n      //         ],\n      //         keywords: [\n      //             '회의실',\n      //             '예약',\n      //         ]\n      //     },\n      //     {\n      //         date: new Date('2022-12-06T00:00:00.000Z'),\n      //         year: 2022,\n      //         monthIndex: 11,\n      //         weekDayNumber: 2,\n      //         dayNumber: 6,\n      //         feelings: [\n      //             'happy',\n      //             'soso',\n      //             'good'\n      //         ],\n      //         summary: 'sample',\n      //         diary: [\n      //             {\n      //                 time: 0,\n      //                 sentence: 'diarysample'\n      //             },\n      //             {\n      //                 time: 10,\n      //                 sentence: 'diarysample2'\n      //             },\n      //             {\n      //                 time: 63,\n      //                 sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n      //             }\n      //         ],\n      //         keywords: [\n      //             '회의실',\n      //             '예약',\n      //             '콜라비',\n      //             '일정',\n      //             '음성',\n      //             '녹음',\n      //             '모바일',\n      //             'api'\n      //         ]\n      //     }\n      // ];\n      setTimeout(() => {\n        this.monthDaysFiltering(this.data);\n      }, 50);\n    }\n\n    ngOnChanges(changes) {\n      if (changes.monthNumber) {\n        console.log('onchange');\n        this.monthData = this.calendarCreator.getData(this.monthNumber, this.year);\n        setTimeout(() => {\n          this.monthDaysFiltering(this.monthData);\n        }, 100);\n      }\n    }\n\n    monthDaysFiltering(data) {\n      console.log('filtering', this.monthData);\n      this.monthData = data.filter(x => x.year === this.year && x.monthIndex === this.monthNumber); // this.monthData = this.monthData.filter(x => x.year === this.year && x.monthIndex === this.monthNumber);\n\n      for (const day of this.monthData) {\n        day.summary = 'summarysample about long text?? what if it gets long like this let me try.';\n        day.diary = [{\n          time: 0,\n          sentence: 'diarysample'\n        }, {\n          time: 10,\n          sentence: 'diarysample2'\n        }, {\n          time: 63,\n          sentence: 'diarysample3how about long text?? what if it gets long like this let me try.'\n        }];\n        day.keywords = ['회의실', '예약', '콜라비', '일정', '음성', '녹음', '모바일', 'api'];\n        let noneCount = 0;\n\n        for (const feeling of day.feelings) {\n          if (feeling === 'none') {\n            noneCount++;\n          }\n        }\n\n        day.feelingsClass = noneCount === 0 ? 'tripleContainer' : noneCount === 1 ? 'doubleContainer' : 'singleContainer';\n\n        if (noneCount === 3) {\n          day.src = `url('/assets/feeling/empty.svg')`;\n        } else {\n          day.src = day.feelings.filter(i => i !== 'none').map(i => `url('/assets/feeling/${i}.svg')`).join();\n        }\n      }\n    }\n\n    onCardClick(day) {\n      this.journalCreator.createJournal(day);\n    }\n\n    onShare(day) {\n      console.log(day);\n      this.isShare = !this.isShare;\n      this.journalCreator.presentToast('오늘의 일기는 공유되지 않습니다');\n    }\n\n    presentActionSheet(day) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const actionSheet = yield this.actionSheetCtrl.create({\n          header: `${day.year}/${day.monthIndex + 1}/${day.dayNumber} 일기를 삭제하시겠습니까?`,\n          // subHeader: 'Example subheader',\n          buttons: [{\n            text: 'Delete',\n            role: 'destructive',\n            data: {\n              action: 'delete'\n            }\n          }, {\n            text: 'Cancel',\n            role: 'cancel',\n            data: {\n              action: 'cancel'\n            }\n          }],\n          mode: 'ios'\n        });\n        yield actionSheet.present();\n        const result = yield actionSheet.onDidDismiss();\n\n        if (result.role === 'destructive') {\n          console.log('delete');\n        }\n      });\n    }\n\n  }\n\n  CalendarListComponent.ɵfac = function CalendarListComponent_Factory(t) {\n    return new (t || CalendarListComponent)(i0.ɵɵdirectiveInject(i1.CalendarCreatorService), i0.ɵɵdirectiveInject(i2.JournalCreatorService), i0.ɵɵdirectiveInject(i3.ActionSheetController));\n  };\n\n  CalendarListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CalendarListComponent,\n    selectors: [[\"app-calendar-list\"]],\n    inputs: {\n      data: \"data\",\n      year: \"year\",\n      monthNumber: \"monthNumber\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 5,\n    vars: 1,\n    consts: [[1, \"dayContainer\"], [1, \"ion-justify-content-center\"], [\"size\", \"12\", \"size-md\", \"8\", \"size-lg\", \"6\"], [\"class\", \"date\", \"style\", \"max-width: 400px; margin: auto;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"date\", 2, \"max-width\", \"400px\", \"margin\", \"auto\", 3, \"click\"], [\"eachDays\", \"\"], [3, \"id\"], [1, \"ion-no-padding\", \"ion-padding-start\", \"ion-padding-top\"], [1, \"ion-no-margin\"], [1, \"ion-no-padding\", \"ion-padding-horizontal\"], [1, \"mainContent\"], [\"size\", \"8\"], [\"size\", \"4\"], [1, \"imgContainer\"], [1, \"ion-padding-horizontal\", \"ion-margin-bottom\"], [1, \"keywordsContainer\"], [\"class\", \"keywords\", 4, \"ngFor\", \"ngForOf\"], [1, \"keywords\"]],\n    template: function CalendarListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"ion-grid\")(2, \"ion-row\", 1)(3, \"ion-col\", 2);\n        i0.ɵɵtemplate(4, CalendarListComponent_div_4_Template, 17, 8, \"div\", 3);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.monthData);\n      }\n    },\n    dependencies: [i3.IonCard, i3.IonCardContent, i3.IonCardHeader, i3.IonCardSubtitle, i3.IonCol, i3.IonGrid, i3.IonRow, i4.NgForOf],\n    styles: [\".dayContainer[_ngcontent-%COMP%]{padding-bottom:60px}.mainContent[_ngcontent-%COMP%]{height:70px;max-height:70px}.mainContent[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}ion-card-subtitle[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#000}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{color:var(--active-color)}.container[_ngcontent-%COMP%]   ion-button.activateBtn[_ngcontent-%COMP%]{background-color:var(--middle-purple-color);color:var(--active-color)}.container[_ngcontent-%COMP%]   ion-button.trashBtn[_ngcontent-%COMP%]:hover{color:var(--red-color)}.keywordsContainer[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.keywords[_ngcontent-%COMP%]{color:var(--active-light-color)}.imgContainer[_ngcontent-%COMP%]{width:65px;aspect-ratio:1/1;margin:auto;background-color:#f7f7f7;border-radius:50%}.singleContainer[_ngcontent-%COMP%]{border-radius:0%;background-color:transparent;background-position:center center;background-repeat:no-repeat;background-size:100% 100%;color:transparent}.doubleContainer[_ngcontent-%COMP%]{border-radius:0%;background-color:transparent;background-position:left top,right bottom;background-repeat:no-repeat,no-repeat;background-size:65% 65%,65% 65%}.tripleContainer[_ngcontent-%COMP%]{border-radius:0%;background-color:transparent;background-position:left bottom,center top,right bottom;background-repeat:no-repeat,no-repeat,no-repeat;background-size:57% 57%,57% 57%,57% 57%;color:transparent}\"]\n  });\n  return CalendarListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}