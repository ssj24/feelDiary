"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1835],{1835:(B,g,s)=>{s.r(g),s.d(g,{Tab1PageModule:()=>R});var r=s(7590),f=s(9808),v=s(4182),h=s(1741),u=s(655),p=s(520),t=s(2096);const C=[{path:"",component:(()=>{class e{constructor(o){this.http=o,this.constraints={audio:!0,video:!1},this.chunks=[]}ngAfterViewInit(){this.startRecordButton=document.getElementById("startRecordButton"),this.stopRecordButton=document.getElementById("stopRecordButton"),this.soundClips=document.getElementById("soundClipContainer"),this.startRecordButton.addEventListener("click",()=>(0,u.mG)(this,void 0,void 0,function*(){navigator.mediaDevices&&(this.stream=yield navigator.mediaDevices.getUserMedia(this.constraints),this.mRec=new MediaRecorder(this.stream),this.onStartRecord())})),this.stopRecordButton.addEventListener("click",()=>{this.mRec.stop(),console.log(this.mRec.state),console.log("recorder stopped"),this.stopRecordButton.setAttribute("disabled",""),this.startRecordButton.removeAttribute("disabled");const o=document.createElement("article"),n=document.createElement("p"),a=document.createElement("audio"),c=document.createElement("button"),l=document.createElement("button");o.classList.add("clip"),a.setAttribute("controls",""),c.textContent="Delete",l.textContent="Save",n.textContent=(new Date).toTimeString(),o.appendChild(a),o.appendChild(n),o.appendChild(c),o.appendChild(l),this.soundClips.appendChild(o),a.controls=!0,this.blob=new Blob(this.chunks,{type:"audio/ogg; codecs=opus"}),this.chunks=[];const d=URL.createObjectURL(this.blob);a.src=d,console.log("recorder stopped"),c.onclick=m=>{const b=m.target;b.parentNode.parentNode.removeChild(b.parentNode)},this.mRec.ondataavailable=m=>{this.chunks.push(m.data)},l.addEventListener("click",()=>this.onSave(this.blob))})}onStartRecord(){return(0,u.mG)(this,void 0,void 0,function*(){this.mRec.start(),console.log(this.mRec.state),console.log("recorder started"),this.startRecordButton.setAttribute("disabled",""),this.stopRecordButton.removeAttribute("disabled")})}onTest(){this.http.post("https://192.168.31.35/SttAnalysis/",{data:"none"},{headers:(new p.WM).set("Content-Type","application/json")}).toPromise().then(n=>(console.log(n),n)).catch(n=>{console.log(n)})}onSave(o){return(0,u.mG)(this,void 0,void 0,function*(){const n=new File([o],"audiorecord_cur.ogg");console.log(n),(new FormData).append("file",n);const c=new DataTransfer;c.items.add(n),console.log(c),this.http.post("https://192.168.31.35/SttAnalysis/",{data:"none"},{headers:(new p.WM).set("Content-Type","application/json")}).toPromise().then(d=>(console.log(d),d)).catch(d=>{console.log(d)})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tab1"]],decls:21,vars:2,consts:[[3,"translucent"],[1,"thisismine"],[3,"fullscreen"],["collapse","condense"],["size","large"],["href","https://web.dev/patterns/media/microphone-record/"],["id","startRecordButton"],["id","stopRecordButton","disabled",""],["id","logs"],["id","soundClipContainer"],["id","test",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),t._uU(3," \uac10\uc815\uc77c\uae30 "),t.qZA()()(),t.TgZ(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),t._uU(8,"\uac10\uc815\uc77c\uae30"),t.qZA()()(),t.TgZ(9,"ion-card")(10,"div")(11,"a",5),t._uU(12,"link"),t.qZA()(),t.TgZ(13,"button",6),t._uU(14,"Start recording"),t.qZA(),t.TgZ(15,"button",7),t._uU(16,"Stop recording"),t.qZA(),t._UZ(17,"pre",8)(18,"div",9),t.TgZ(19,"button",10),t.NdJ("click",function(){return n.onTest()}),t._uU(20,"test"),t.qZA()()()),2&o&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0))},dependencies:[r.PM,r.W2,r.Gu,r.wd,r.sr],styles:["[_ngcontent-%COMP%]:root{--ion-color-custom: #ffb800;--ion-color-custom-rgb: 255,184,0;--ion-color-custom-contrast: #000000;--ion-color-custom-contrast-rgb: 0,0,0;--ion-color-custom-shade: #e0a200;--ion-color-custom-tint: #ffbf1a}.ion-color-custom[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-custom);--ion-color-base-rgb: var(--ion-color-custom-rgb);--ion-color-contrast: var(--ion-color-custom-contrast);--ion-color-contrast-rgb: var(--ion-color-custom-contrast-rgb);--ion-color-shade: var(--ion-color-custom-shade);--ion-color-tint: var(--ion-color-custom-tint)}ion-datetime[_ngcontent-%COMP%]{--ion-color-step-650: #ffb800;--ion-color-step-500: #ffffff}.tripleContainer[_ngcontent-%COMP%]{background-position:center top,left bottom,right bottom!important;background-repeat:no-repeat,no-repeat,no-repeat!important;background-size:55% 55%,55% 55%,55% 55%!important;color:transparent}.doubleContainer[_ngcontent-%COMP%]{width:200px;height:200px;background-image:url(/assets/feeling/soso.svg),url(/assets/feeling/surprise.svg);background-position:left top,right bottom;background-repeat:no-repeat,no-repeat;background-size:60% 60%,60% 60%}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(C),h.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Pc,f.ez,v.u5,T]}),e})()}}]);